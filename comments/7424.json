[
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/250802937",
    "html_url": "https://github.com/electron/electron/issues/7424#issuecomment-250802937",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/7424",
    "id": 250802937,
    "user": {
      "login": "kevinsawicki",
      "id": 671378,
      "avatar_url": "https://avatars0.githubusercontent.com/u/671378?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kevinsawicki",
      "html_url": "https://github.com/kevinsawicki",
      "followers_url": "https://api.github.com/users/kevinsawicki/followers",
      "following_url": "https://api.github.com/users/kevinsawicki/following{/other_user}",
      "gists_url": "https://api.github.com/users/kevinsawicki/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kevinsawicki/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kevinsawicki/subscriptions",
      "organizations_url": "https://api.github.com/users/kevinsawicki/orgs",
      "repos_url": "https://api.github.com/users/kevinsawicki/repos",
      "events_url": "https://api.github.com/users/kevinsawicki/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kevinsawicki/received_events",
      "type": "User",
      "site_admin": true
    },
    "created_at": "2016-09-30T17:23:51Z",
    "updated_at": "2016-09-30T17:23:51Z",
    "body": "@salomvary do you know if this worked in previous Electron releases?\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/250823041",
    "html_url": "https://github.com/electron/electron/issues/7424#issuecomment-250823041",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/7424",
    "id": 250823041,
    "user": {
      "login": "salomvary",
      "id": 193923,
      "avatar_url": "https://avatars2.githubusercontent.com/u/193923?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/salomvary",
      "html_url": "https://github.com/salomvary",
      "followers_url": "https://api.github.com/users/salomvary/followers",
      "following_url": "https://api.github.com/users/salomvary/following{/other_user}",
      "gists_url": "https://api.github.com/users/salomvary/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/salomvary/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/salomvary/subscriptions",
      "organizations_url": "https://api.github.com/users/salomvary/orgs",
      "repos_url": "https://api.github.com/users/salomvary/repos",
      "events_url": "https://api.github.com/users/salomvary/events{/privacy}",
      "received_events_url": "https://api.github.com/users/salomvary/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-09-30T18:48:37Z",
    "updated_at": "2016-09-30T18:48:37Z",
    "body": "Don't really know, I'm new to Electron.\n\n> On 30 Sep 2016, at 19:24, Kevin Sawicki notifications@github.com wrote:\n> \n> @salomvary do you know if this worked in previous Electron releases?\n> \n> ‚Äî\n> You are receiving this because you were mentioned.\n> Reply to this email directly, view it on GitHub, or mute the thread.\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/250847944",
    "html_url": "https://github.com/electron/electron/issues/7424#issuecomment-250847944",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/7424",
    "id": 250847944,
    "user": {
      "login": "sukhmeet2390",
      "id": 1314403,
      "avatar_url": "https://avatars1.githubusercontent.com/u/1314403?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sukhmeet2390",
      "html_url": "https://github.com/sukhmeet2390",
      "followers_url": "https://api.github.com/users/sukhmeet2390/followers",
      "following_url": "https://api.github.com/users/sukhmeet2390/following{/other_user}",
      "gists_url": "https://api.github.com/users/sukhmeet2390/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sukhmeet2390/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sukhmeet2390/subscriptions",
      "organizations_url": "https://api.github.com/users/sukhmeet2390/orgs",
      "repos_url": "https://api.github.com/users/sukhmeet2390/repos",
      "events_url": "https://api.github.com/users/sukhmeet2390/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sukhmeet2390/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-09-30T20:45:24Z",
    "updated_at": "2016-09-30T20:45:24Z",
    "body": "Facing a similar issue. \nOn pressing Quit (Cmd+Q) in the lifecycle method i get till  'will-quit' , but not after that. \non clicking the window close or calling window.close() doesn't close the BrowserWindow.\nBrowserWindow.getAllWindows(), still has that window object.\n\nPS : I am overriding 'require' to 'electronRequire' and using that to get specific modules as I am using requirejs inside my code , and my 'require' points to requirejs 'require' . \n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/250903063",
    "html_url": "https://github.com/electron/electron/issues/7424#issuecomment-250903063",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/7424",
    "id": 250903063,
    "user": {
      "login": "salomvary",
      "id": 193923,
      "avatar_url": "https://avatars2.githubusercontent.com/u/193923?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/salomvary",
      "html_url": "https://github.com/salomvary",
      "followers_url": "https://api.github.com/users/salomvary/followers",
      "following_url": "https://api.github.com/users/salomvary/following{/other_user}",
      "gists_url": "https://api.github.com/users/salomvary/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/salomvary/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/salomvary/subscriptions",
      "organizations_url": "https://api.github.com/users/salomvary/orgs",
      "repos_url": "https://api.github.com/users/salomvary/repos",
      "events_url": "https://api.github.com/users/salomvary/events{/privacy}",
      "received_events_url": "https://api.github.com/users/salomvary/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-10-01T09:33:32Z",
    "updated_at": "2016-10-01T09:33:32Z",
    "body": "OK, I traced it down. The problem lies in Facebook using `window.unbeforeunload` to prevent and confirm closing the window with unsaved/unsent input.\n\n`window.unbeforeunload` [is overridden by Electron](http://electron.atom.io/docs/api/browser-window/#event-close) to silently prevent closing the window on any non-`undefined` return value from the event handler.\n\nThe above behavior is reasonable in case `nodeIntegration = true` however when it's off, I'd expect this to behave more like on web browsers, where a confirmation dialog is shown.\n\nI dumped the un-minified Facebook dialog and my test app [into this repo](https://github.com/salomvary/tmp-fb-on-electron) for further investigation. It also contains a [trivial test page](https://github.com/salomvary/tmp-fb-on-electron/blob/master/test.html) to showcase the behavior.\n\nThinking of workarounds, one possible solution would be hijacking `window.addEventListener('beforeunload')` and the `window.onbeforeunload` setter and wrapping whatever is added there with an Electron dialog implementation in a `preload` script added to all `BrowserWindows` opened. \n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/250904414",
    "html_url": "https://github.com/electron/electron/issues/7424#issuecomment-250904414",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/7424",
    "id": 250904414,
    "user": {
      "login": "salomvary",
      "id": 193923,
      "avatar_url": "https://avatars2.githubusercontent.com/u/193923?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/salomvary",
      "html_url": "https://github.com/salomvary",
      "followers_url": "https://api.github.com/users/salomvary/followers",
      "following_url": "https://api.github.com/users/salomvary/following{/other_user}",
      "gists_url": "https://api.github.com/users/salomvary/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/salomvary/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/salomvary/subscriptions",
      "organizations_url": "https://api.github.com/users/salomvary/orgs",
      "repos_url": "https://api.github.com/users/salomvary/repos",
      "events_url": "https://api.github.com/users/salomvary/events{/privacy}",
      "received_events_url": "https://api.github.com/users/salomvary/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-10-01T10:09:19Z",
    "updated_at": "2016-10-01T10:09:19Z",
    "body": "Btw web-standard `window.onbeforeunload` implementation on \"mainWindow\" is the perfect way of creating an app that is impossible to close without force quitting or using `kill -9` on Mac ;)\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/251241305",
    "html_url": "https://github.com/electron/electron/issues/7424#issuecomment-251241305",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/7424",
    "id": 251241305,
    "user": {
      "login": "kevinsawicki",
      "id": 671378,
      "avatar_url": "https://avatars0.githubusercontent.com/u/671378?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kevinsawicki",
      "html_url": "https://github.com/kevinsawicki",
      "followers_url": "https://api.github.com/users/kevinsawicki/followers",
      "following_url": "https://api.github.com/users/kevinsawicki/following{/other_user}",
      "gists_url": "https://api.github.com/users/kevinsawicki/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kevinsawicki/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kevinsawicki/subscriptions",
      "organizations_url": "https://api.github.com/users/kevinsawicki/orgs",
      "repos_url": "https://api.github.com/users/kevinsawicki/repos",
      "events_url": "https://api.github.com/users/kevinsawicki/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kevinsawicki/received_events",
      "type": "User",
      "site_admin": true
    },
    "created_at": "2016-10-03T22:06:14Z",
    "updated_at": "2016-10-03T22:06:14Z",
    "body": "> The problem lies in Facebook using window.unbeforeunload to prevent and confirm closing the window with unsaved/unsent input.\n\nI believe this is a duplicate of https://github.com/electron/electron/issues/2579, please subscribe to that issue for updates.\n\n> Thinking of workarounds, one possible solution would be hijacking\n\nUsing a `preload` script seems like the right workaround for now üëç \n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/293917046",
    "html_url": "https://github.com/electron/electron/issues/7424#issuecomment-293917046",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/7424",
    "id": 293917046,
    "user": {
      "login": "synergyseeker",
      "id": 2364264,
      "avatar_url": "https://avatars2.githubusercontent.com/u/2364264?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/synergyseeker",
      "html_url": "https://github.com/synergyseeker",
      "followers_url": "https://api.github.com/users/synergyseeker/followers",
      "following_url": "https://api.github.com/users/synergyseeker/following{/other_user}",
      "gists_url": "https://api.github.com/users/synergyseeker/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/synergyseeker/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/synergyseeker/subscriptions",
      "organizations_url": "https://api.github.com/users/synergyseeker/orgs",
      "repos_url": "https://api.github.com/users/synergyseeker/repos",
      "events_url": "https://api.github.com/users/synergyseeker/events{/privacy}",
      "received_events_url": "https://api.github.com/users/synergyseeker/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-04-13T14:47:30Z",
    "updated_at": "2017-04-13T14:47:30Z",
    "body": "did anyone ever get this working? I am able to get the FB login / share dialogue to open and share properly on FB. But you can't close or cancel the share window, unless you complete the Share process ( post to FB ) or use the \"swtich user\" function in the upper right"
  }
]